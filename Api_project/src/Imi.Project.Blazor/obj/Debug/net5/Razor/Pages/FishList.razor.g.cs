#pragma checksum "D:\G_B\Repo\my_projects\Api_project\src\Imi.Project.Blazor\Pages\FishList.razor" "{8829d00f-11b8-4213-878b-770e8597ac16}" "f95df6251827e22b8deefb6c1192c6a04cc940f30381823f8836bfc30ec940b7"
// <auto-generated/>
#pragma warning disable 1591
namespace Imi.Project.Blazor.Pages
{
    #line default
    using global::System;
    using global::System.Collections.Generic;
    using global::System.Linq;
    using global::Microsoft.AspNetCore.Components;
#nullable restore
#line 1 "D:\G_B\Repo\my_projects\Api_project\src\Imi.Project.Blazor\_Imports.razor"
using System.Net.Http

#nullable disable
    ;
#nullable restore
#line 2 "D:\G_B\Repo\my_projects\Api_project\src\Imi.Project.Blazor\_Imports.razor"
using Microsoft.AspNetCore.Authorization

#nullable disable
    ;
#nullable restore
#line 3 "D:\G_B\Repo\my_projects\Api_project\src\Imi.Project.Blazor\_Imports.razor"
using Microsoft.AspNetCore.Components.Authorization

#nullable disable
    ;
#nullable restore
#line 4 "D:\G_B\Repo\my_projects\Api_project\src\Imi.Project.Blazor\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms

#nullable disable
    ;
#nullable restore
#line 5 "D:\G_B\Repo\my_projects\Api_project\src\Imi.Project.Blazor\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing

#nullable disable
    ;
#nullable restore
#line 6 "D:\G_B\Repo\my_projects\Api_project\src\Imi.Project.Blazor\_Imports.razor"
using Microsoft.AspNetCore.Components.Web

#nullable disable
    ;
#nullable restore
#line 7 "D:\G_B\Repo\my_projects\Api_project\src\Imi.Project.Blazor\_Imports.razor"
using Microsoft.JSInterop

#nullable disable
    ;
#nullable restore
#line 8 "D:\G_B\Repo\my_projects\Api_project\src\Imi.Project.Blazor\_Imports.razor"
using Imi.Project.Blazor

#nullable disable
    ;
#nullable restore
#line 9 "D:\G_B\Repo\my_projects\Api_project\src\Imi.Project.Blazor\_Imports.razor"
using Imi.Project.Blazor.Shared

#nullable disable
    ;
#nullable restore
#line 10 "D:\G_B\Repo\my_projects\Api_project\src\Imi.Project.Blazor\_Imports.razor"
using BlazorInputFile;

#nullable disable
#nullable restore
#line 11 "D:\G_B\Repo\my_projects\Api_project\src\Imi.Project.Blazor\_Imports.razor"
using Imi.Project.Blazor.Models;

#nullable disable
#nullable restore
#line 12 "D:\G_B\Repo\my_projects\Api_project\src\Imi.Project.Blazor\_Imports.razor"
using System.Threading.Tasks;

#nullable disable
#nullable restore
#line 13 "D:\G_B\Repo\my_projects\Api_project\src\Imi.Project.Blazor\_Imports.razor"
using Imi.Project.Blazor.Components;

#nullable disable
#nullable restore
#line 14 "D:\G_B\Repo\my_projects\Api_project\src\Imi.Project.Blazor\_Imports.razor"
using Imi.Project.Blazor.Services;

#nullable disable
#nullable restore
#line 15 "D:\G_B\Repo\my_projects\Api_project\src\Imi.Project.Blazor\_Imports.razor"
using Imi.Project.Blazor.Services.Interfaces;

#nullable disable
#nullable restore
#line 16 "D:\G_B\Repo\my_projects\Api_project\src\Imi.Project.Blazor\_Imports.razor"
using Blazored.Toast;

#nullable disable
#nullable restore
#line 17 "D:\G_B\Repo\my_projects\Api_project\src\Imi.Project.Blazor\_Imports.razor"
using Blazored.Toast.Services;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Components.RouteAttribute(
    // language=Route,Component
#nullable restore
#line 1 "D:\G_B\Repo\my_projects\Api_project\src\Imi.Project.Blazor\Pages\FishList.razor"
      "/fishes"

#line default
#line hidden
#nullable disable
    )]
    #nullable restore
    public partial class FishList : global::Microsoft.AspNetCore.Components.ComponentBase
    #nullable disable
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(global::Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
#nullable restore
#line 8 "D:\G_B\Repo\my_projects\Api_project\src\Imi.Project.Blazor\Pages\FishList.razor"
 if (checkLogIn)
{

#line default
#line hidden
#nullable disable

            __builder.OpenComponent<global::Imi.Project.Blazor.Components.Logout>(0);
            __builder.AddAttribute(1, "OnLogOutClick", (object)(global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<global::Microsoft.AspNetCore.Components.EventCallback>(global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create(this, 
#nullable restore
#line 10 "D:\G_B\Repo\my_projects\Api_project\src\Imi.Project.Blazor\Pages\FishList.razor"
                           OnLogOutClick

#line default
#line hidden
#nullable disable
            ))));
            __builder.CloseComponent();
#nullable restore
#line 11 "D:\G_B\Repo\my_projects\Api_project\src\Imi.Project.Blazor\Pages\FishList.razor"
}

#line default
#line hidden
#nullable disable

            __builder.AddMarkupContent(2, "<h3>Vissen</h3>\r\n");
            __builder.OpenElement(3, "div");
            __builder.AddAttribute(4, "class", "mt-3");
#nullable restore
#line 14 "D:\G_B\Repo\my_projects\Api_project\src\Imi.Project.Blazor\Pages\FishList.razor"
     if(currentFish == null)
    {

#line default
#line hidden
#nullable disable

            __builder.OpenComponent<global::Imi.Project.Blazor.Components.ShowFishListItem>(5);
            __builder.AddAttribute(6, "Fishs", (object)(global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<global::System.Collections.Generic.List<Imi.Project.Blazor.Models.FishListItem>>(
#nullable restore
#line 16 "D:\G_B\Repo\my_projects\Api_project\src\Imi.Project.Blazor\Pages\FishList.razor"
                                  fishs

#line default
#line hidden
#nullable disable
            )));
            __builder.AddAttribute(7, "OnAddClick", (object)(global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<global::Microsoft.AspNetCore.Components.EventCallback>(global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create(this, 
#nullable restore
#line 17 "D:\G_B\Repo\my_projects\Api_project\src\Imi.Project.Blazor\Pages\FishList.razor"
                                       AddFish

#line default
#line hidden
#nullable disable
            ))));
            __builder.AddAttribute(8, "OnEditClick", (object)(global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<global::Microsoft.AspNetCore.Components.EventCallback<global::Imi.Project.Blazor.Models.FishListItem>>(global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Imi.Project.Blazor.Models.FishListItem>(this, 
#nullable restore
#line 18 "D:\G_B\Repo\my_projects\Api_project\src\Imi.Project.Blazor\Pages\FishList.razor"
                                        EditFish

#line default
#line hidden
#nullable disable
            ))));
            __builder.AddAttribute(9, "OnDeleteClick", (object)(global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<global::Microsoft.AspNetCore.Components.EventCallback<global::Imi.Project.Blazor.Models.FishListItem>>(global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Imi.Project.Blazor.Models.FishListItem>(this, 
#nullable restore
#line 19 "D:\G_B\Repo\my_projects\Api_project\src\Imi.Project.Blazor\Pages\FishList.razor"
                                          DeleteFish

#line default
#line hidden
#nullable disable
            ))));
            __builder.AddAttribute(10, "CheckInlog", (object)(global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<global::System.Boolean>(
#nullable restore
#line 20 "D:\G_B\Repo\my_projects\Api_project\src\Imi.Project.Blazor\Pages\FishList.razor"
                                       checkLogIn

#line default
#line hidden
#nullable disable
            )));
            __builder.CloseComponent();
#nullable restore
#line 22 "D:\G_B\Repo\my_projects\Api_project\src\Imi.Project.Blazor\Pages\FishList.razor"
    }
    else
    {

#line default
#line hidden
#nullable disable

            __builder.OpenComponent<global::Imi.Project.Blazor.Components.CrudFishItem>(11);
            __builder.AddAttribute(12, "Fish", (object)(global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<global::Imi.Project.Blazor.Models.FishItem>(
#nullable restore
#line 25 "D:\G_B\Repo\my_projects\Api_project\src\Imi.Project.Blazor\Pages\FishList.razor"
                              currentFish

#line default
#line hidden
#nullable disable
            )));
            __builder.AddAttribute(13, "HandelFileSelected", (object)(global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<global::Microsoft.AspNetCore.Components.EventCallback<global::BlazorInputFile.IFileListEntry[]>>(global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::BlazorInputFile.IFileListEntry[]>(this, 
#nullable restore
#line 26 "D:\G_B\Repo\my_projects\Api_project\src\Imi.Project.Blazor\Pages\FishList.razor"
                                            HandelFileSelected

#line default
#line hidden
#nullable disable
            ))));
            __builder.AddAttribute(14, "OnSaveClick", (object)(global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<global::Microsoft.AspNetCore.Components.EventCallback<global::Imi.Project.Blazor.Models.FishItem>>(global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Imi.Project.Blazor.Models.FishItem>(this, 
#nullable restore
#line 27 "D:\G_B\Repo\my_projects\Api_project\src\Imi.Project.Blazor\Pages\FishList.razor"
                                     SaveFish

#line default
#line hidden
#nullable disable
            ))));
            __builder.AddAttribute(15, "OnCancelClick", (object)(global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<global::Microsoft.AspNetCore.Components.EventCallback>(global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create(this, 
#nullable restore
#line 28 "D:\G_B\Repo\my_projects\Api_project\src\Imi.Project.Blazor\Pages\FishList.razor"
                                        ShowList

#line default
#line hidden
#nullable disable
            ))));
            __builder.AddAttribute(16, "IsEdit", (object)(global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<global::System.Boolean>(
#nullable restore
#line 29 "D:\G_B\Repo\my_projects\Api_project\src\Imi.Project.Blazor\Pages\FishList.razor"
                                  isEdit

#line default
#line hidden
#nullable disable
            )));
            __builder.CloseComponent();
#nullable restore
#line 31 "D:\G_B\Repo\my_projects\Api_project\src\Imi.Project.Blazor\Pages\FishList.razor"
    }

#line default
#line hidden
#nullable disable

            __builder.CloseElement();
        }
        #pragma warning restore 1998
#nullable restore
#line 34 "D:\G_B\Repo\my_projects\Api_project\src\Imi.Project.Blazor\Pages\FishList.razor"
       
    private List<FishListItem> fishs = new List<FishListItem>();
    private FishItem currentFish;
    private bool isEdit;
    private bool checkLogIn;

    protected override async Task OnInitializedAsync()
    {
        await ShowList();
    }

    public  async Task ShowList()
    {
        try
        {
          this.checkLogIn =  accountService.CheckLogIn();
          fishs = await service.GetList();
          currentFish = null;
        }catch (Exception ex)
        {
          toastService.ShowError(ex.Message);
        }

    }

    public async Task AddFish()
    {
        try
        {

            this.currentFish= await service.GetNew();
            this.isEdit = false;
        }
        catch(Exception ex)
        {
          toastService.ShowError(ex.Message);
        }
    }

    public async Task EditFish(FishListItem item)
    {
        try
        {
            this.currentFish = await service.GetFishById(item.Id);
            this.isEdit = true;
        }
        catch(Exception ex)
        {
          toastService.ShowError(ex.Message);
        }

    }

    public async Task SaveFish(FishItem item)
    {
        try
        {
            if (currentFish.Id == 0)
            {
                await service.Create(currentFish);
            }
            else
            {
                await service.Update(currentFish);
            }
            await this.ShowList();
        }
        catch (Exception ex)
        {
          toastService.ShowError(ex.Message);
        }
    }

    public async Task DeleteFish(FishListItem item)
    {
        try
        {
            await service.Delete(item.Id);
            await this.ShowList();
           
        }
        catch (Exception ex)
        {
          toastService.ShowError(ex.Message);
        }
 
    }
    private IFileListEntry file;
    public async Task HandelFileSelected(IFileListEntry[] files)
    {

        file = files.FirstOrDefault();
            if(file != null)
            {
                 try
            {
                await service.FileUpload(file,currentFish.Id);
            }
            catch (Exception ex)
            {
              toastService.ShowError(ex.Message);
            }
        }
    }
    public async Task OnLogOutClick()
    {
        accountService.Logout();
        NavigationManager.NavigateTo("inloggen");
    }

   


#line default
#line hidden
#nullable disable

        [global::Microsoft.AspNetCore.Components.InjectAttribute] private 
#nullable restore
#line 5 "D:\G_B\Repo\my_projects\Api_project\src\Imi.Project.Blazor\Pages\FishList.razor"
        NavigationManager

#line default
#line hidden
#nullable disable
         
#nullable restore
#line 5 "D:\G_B\Repo\my_projects\Api_project\src\Imi.Project.Blazor\Pages\FishList.razor"
                          NavigationManager

#line default
#line hidden
#nullable disable
         { get; set; }
         = default!;
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private 
#nullable restore
#line 4 "D:\G_B\Repo\my_projects\Api_project\src\Imi.Project.Blazor\Pages\FishList.razor"
        IAccountService

#line default
#line hidden
#nullable disable
         
#nullable restore
#line 4 "D:\G_B\Repo\my_projects\Api_project\src\Imi.Project.Blazor\Pages\FishList.razor"
                        accountService

#line default
#line hidden
#nullable disable
         { get; set; }
         = default!;
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private 
#nullable restore
#line 3 "D:\G_B\Repo\my_projects\Api_project\src\Imi.Project.Blazor\Pages\FishList.razor"
        IToastService

#line default
#line hidden
#nullable disable
         
#nullable restore
#line 3 "D:\G_B\Repo\my_projects\Api_project\src\Imi.Project.Blazor\Pages\FishList.razor"
                      toastService

#line default
#line hidden
#nullable disable
         { get; set; }
         = default!;
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private 
#nullable restore
#line 2 "D:\G_B\Repo\my_projects\Api_project\src\Imi.Project.Blazor\Pages\FishList.razor"
        ICrudService<FishListItem,FishItem>

#line default
#line hidden
#nullable disable
         
#nullable restore
#line 2 "D:\G_B\Repo\my_projects\Api_project\src\Imi.Project.Blazor\Pages\FishList.razor"
                                            service

#line default
#line hidden
#nullable disable
         { get; set; }
         = default!;
    }
}
#pragma warning restore 1591
